# 事例: npm
*[npm](http://npmjs.com)は、モジュールの紹介ページやアップセル用のボックスをREST API経由で配信したいと考えました。*

> セキュリティは私たちにとって最優先の課題で、ヘッドレスなWordPressを同じ本番環境にインストールする必要があります。これによってホワイトリストによるIP アドレスの許可を行わなくても、WordPress APIから取得したJSONをパースしてコンテンツを表示しています。

Nick Cawthon, npm## なぜWordPressとREST APIを使っているのですか？

npmは、ドキュメンテーションやプロダクトのページのためにWordPressをセントラルハブのように使いたいと考えました。それによってコンテンツの著者が簡単にデータを追加できるようになり、クライアントにJSONで配信されます。

## 仕組み

npmのウェブサイトはWordPressによるバックエンドと管理画面を持っています。カスタムメイドのエンドポイントによるコンテンツはJSONフォーマットでNode.jsサーバーに届けられます。これは最終的にHandlebarsというテンプレートエンジンによってレンダリングされ、ブラウザに送られています。APIは単にデータを送るだけでなくレンダリングされたHTMLやJavaScript、CSSも送っています。これはNode.jsサーバーによってキャッシュされ、WordPressが動作していない時でもウェブサイトは稼働します。それによってデータベースのスケーリングを行わなくてもウェブサイトが高速に動作するようになっています。
WordPressの投稿のプレビューなどいくつかの機能はカスタマイズされています。CSSとHandlebarsテンプレートにより基本的なWordPressテーマが作られており、これによって著者たちは記事を公開する前にコンテンツのプレビューが可能になっています。
